// Mathematics Virtual Lab Simulations Data
// Interactive simulations for calculus, algebra, and advanced math concepts

import type { Badge, SimulationMetadata } from './simulationTypes';

// ============================================
// MATHEMATICS SIMULATIONS (23 Total)
// ============================================

export const MATH_SIMULATIONS: SimulationMetadata[] = [
    // ============================================
    // CALCULUS SIMULATIONS
    // ============================================
    {
        id: 'differentiation-lab',
        title: 'Differentiation Lab',
        subject: 'mathematics',
        topic: 'Calculus - Derivatives',
        description: 'Explore derivatives by tracing tangent lines along curves. Watch the derivative graph paint in real-time as you move along f(x).',
        difficulty: 'medium',
        xpReward: 200,
        estimatedTime: '15-20 mins',
        icon: 'trending-up',
        color: '#2979FF',
        learningObjectives: [
            { id: 'dl-1', text: 'Understand the derivative as the slope of the tangent line' },
            { id: 'dl-2', text: 'Visualize how f\'(x) relates to the steepness of f(x)' },
            { id: 'dl-3', text: 'Identify where derivatives are zero (turning points)' },
            { id: 'dl-4', text: 'Compare derivatives of polynomial, trig, and exponential functions' },
        ],
        quizQuestions: [
            {
                id: 'dl-q1',
                question: 'At a maximum or minimum point on a curve, the derivative f\'(x) equals:',
                options: ['1', '0', 'Infinity', 'Undefined'],
                correctIndex: 1,
                explanation: 'At turning points (maxima/minima), the tangent line is horizontal, meaning the slope (derivative) is zero.',
            },
            {
                id: 'dl-q2',
                question: 'If f(x) = x², what is f\'(x)?',
                options: ['x', '2x', 'x²', '2'],
                correctIndex: 1,
                explanation: 'Using the power rule: d/dx(x²) = 2x¹ = 2x',
            },
            {
                id: 'dl-q3',
                question: 'When the derivative f\'(x) is positive, the original function f(x) is:',
                options: ['Decreasing', 'Increasing', 'Constant', 'At a maximum'],
                correctIndex: 1,
                explanation: 'A positive derivative means the tangent line slopes upward, so the function is increasing.',
            },
            {
                id: 'dl-q4',
                question: 'The derivative of sin(x) is:',
                options: ['-sin(x)', 'cos(x)', '-cos(x)', 'tan(x)'],
                correctIndex: 1,
                explanation: 'The derivative of sin(x) is cos(x). This can be seen by how the sine wave\'s slope matches the cosine wave.',
            },
        ],
    },
    {
        id: 'integration-lab',
        title: 'Integration Lab',
        subject: 'mathematics',
        topic: 'Calculus - Integrals',
        description: 'Visualize integration as the area under a curve. Use Riemann rectangles that "melt" into smooth areas as you increase their number.',
        difficulty: 'hard',
        xpReward: 250,
        estimatedTime: '20-25 mins',
        icon: 'layers',
        color: '#7C4DFF',
        learningObjectives: [
            { id: 'il-1', text: 'Understand integration as the accumulation of area' },
            { id: 'il-2', text: 'Compare left, right, and midpoint Riemann sums' },
            { id: 'il-3', text: 'See how increasing rectangles approaches the exact integral' },
            { id: 'il-4', text: 'Connect the Fundamental Theorem of Calculus visually' },
        ],
        quizQuestions: [
            {
                id: 'il-q1',
                question: 'As the number of Riemann rectangles approaches infinity, the sum approaches:',
                options: ['Zero', 'Infinity', 'The exact integral', 'The derivative'],
                correctIndex: 2,
                explanation: 'The limit of Riemann sums as n→∞ defines the definite integral.',
            },
            {
                id: 'il-q2',
                question: 'The integral ∫₀² x dx equals:',
                options: ['1', '2', '4', '0'],
                correctIndex: 1,
                explanation: 'The antiderivative of x is x²/2. Evaluating from 0 to 2: (2²/2) - (0²/2) = 2 - 0 = 2',
            },
            {
                id: 'il-q3',
                question: 'Which Riemann sum typically gives the best approximation for a given number of rectangles?',
                options: ['Left sum', 'Right sum', 'Midpoint sum', 'All are equally accurate'],
                correctIndex: 2,
                explanation: 'The midpoint rule generally provides a better approximation because errors on either side tend to cancel out.',
            },
            {
                id: 'il-q4',
                question: 'If f(x) is negative over an interval, the integral over that interval is:',
                options: ['Positive', 'Negative', 'Zero', 'Undefined'],
                correctIndex: 1,
                explanation: 'When f(x) < 0, the "area" is below the x-axis and contributes negatively to the integral.',
            },
        ],
    },

    // ============================================
    // ALGEBRA SIMULATIONS
    // ============================================
    {
        id: 'quadratic-explorer',
        title: 'Quadratic Explorer',
        subject: 'mathematics',
        topic: 'Algebra - Quadratic Functions',
        description: 'Drag the vertex and adjust coefficients to see how parabolas transform. Watch roots appear and disappear based on the discriminant.',
        difficulty: 'easy',
        xpReward: 150,
        estimatedTime: '10-15 mins',
        icon: 'git-branch',
        color: '#00E676',
        learningObjectives: [
            { id: 'qe-1', text: 'Understand vertex form y = a(x-h)² + k' },
            { id: 'qe-2', text: 'See how coefficient "a" affects parabola width and direction' },
            { id: 'qe-3', text: 'Visualize how the discriminant determines the number of roots' },
            { id: 'qe-4', text: 'Identify axis of symmetry from the vertex' },
        ],
        quizQuestions: [
            {
                id: 'qe-q1',
                question: 'In y = a(x-h)² + k, the vertex is at:',
                options: ['(a, k)', '(h, k)', '(k, h)', '(-h, k)'],
                correctIndex: 1,
                explanation: 'The vertex form directly shows the vertex coordinates as (h, k).',
            },
            {
                id: 'qe-q2',
                question: 'When a < 0 in y = ax² + bx + c, the parabola:',
                options: ['Opens upward', 'Opens downward', 'Is a straight line', 'Has no vertex'],
                correctIndex: 1,
                explanation: 'A negative "a" value flips the parabola to open downward.',
            },
            {
                id: 'qe-q3',
                question: 'If the discriminant b² - 4ac is negative, the quadratic has:',
                options: ['Two real roots', 'One real root', 'No real roots', 'Infinite roots'],
                correctIndex: 2,
                explanation: 'A negative discriminant means the parabola doesn\'t cross the x-axis, so there are no real roots.',
            },
            {
                id: 'qe-q4',
                question: 'The axis of symmetry of y = x² - 6x + 8 is:',
                options: ['x = 3', 'x = -3', 'x = 6', 'x = 8'],
                correctIndex: 0,
                explanation: 'The axis of symmetry is x = -b/(2a) = -(-6)/(2×1) = 3',
            },
        ],
    },
    {
        id: 'complex-numbers-lab',
        title: 'Complex Numbers Lab',
        subject: 'mathematics',
        topic: 'Algebra - Complex Numbers',
        description: 'Explore the Argand plane where multiplying by i rotates 90°. Visualize Euler\'s identity as a journey around the unit circle.',
        difficulty: 'hard',
        xpReward: 275,
        estimatedTime: '20-25 mins',
        icon: 'infinite',
        color: '#FF4081',
        learningObjectives: [
            { id: 'cn-1', text: 'Represent complex numbers on the Argand diagram' },
            { id: 'cn-2', text: 'Understand multiplication by i as a 90° rotation' },
            { id: 'cn-3', text: 'Convert between rectangular and polar forms' },
            { id: 'cn-4', text: 'Visualize Euler\'s formula e^(iθ) = cos(θ) + i·sin(θ)' },
        ],
        quizQuestions: [
            {
                id: 'cn-q1',
                question: 'What is i² equal to?',
                options: ['1', '-1', 'i', '-i'],
                correctIndex: 1,
                explanation: 'By definition, i = √(-1), so i² = -1.',
            },
            {
                id: 'cn-q2',
                question: 'On the Argand diagram, the imaginary part is plotted on the:',
                options: ['x-axis', 'y-axis', 'Both axes', 'Neither axis'],
                correctIndex: 1,
                explanation: 'The real part is on the x-axis and the imaginary part is on the y-axis.',
            },
            {
                id: 'cn-q3',
                question: 'The modulus of 3 + 4i is:',
                options: ['7', '5', '1', '12'],
                correctIndex: 1,
                explanation: 'Modulus |z| = √(3² + 4²) = √(9 + 16) = √25 = 5',
            },
            {
                id: 'cn-q4',
                question: 'According to Euler\'s identity, e^(iπ) equals:',
                options: ['1', '-1', 'i', '0'],
                correctIndex: 1,
                explanation: 'Euler\'s famous identity: e^(iπ) + 1 = 0, therefore e^(iπ) = -1',
            },
        ],
    },

    // ============================================
    // TRIGONOMETRY SIMULATIONS
    // ============================================
    {
        id: 'trig-functions-lab',
        title: 'Trigonometry Lab',
        subject: 'mathematics',
        topic: 'Trigonometry',
        description: 'Connect the unit circle to sine and cosine waves. Drag a point around the circle and watch the waves draw in real-time.',
        difficulty: 'medium',
        xpReward: 200,
        estimatedTime: '15-20 mins',
        icon: 'sync',
        color: '#00BCD4',
        learningObjectives: [
            { id: 'tf-1', text: 'Understand sine and cosine from the unit circle' },
            { id: 'tf-2', text: 'See how angle changes affect wave values' },
            { id: 'tf-3', text: 'Explore amplitude, period, and phase shift' },
            { id: 'tf-4', text: 'Visualize the relationship between sin and cos' },
        ],
        quizQuestions: [
            {
                id: 'tf-q1',
                question: 'On the unit circle, cos(θ) represents the:',
                options: ['y-coordinate', 'x-coordinate', 'Radius', 'Arc length'],
                correctIndex: 1,
                explanation: 'For a point on the unit circle at angle θ, the x-coordinate is cos(θ) and y-coordinate is sin(θ).',
            },
            {
                id: 'tf-q2',
                question: 'The period of y = sin(x) is:',
                options: ['π', '2π', '1', '360'],
                correctIndex: 1,
                explanation: 'The sine function completes one full cycle every 2π radians (or 360°).',
            },
            {
                id: 'tf-q3',
                question: 'sin(90°) or sin(π/2) equals:',
                options: ['0', '1', '-1', '0.5'],
                correctIndex: 1,
                explanation: 'At 90°, the point on the unit circle is at the top (0, 1), so sin(90°) = 1.',
            },
            {
                id: 'tf-q4',
                question: 'In y = A·sin(Bx), the amplitude is:',
                options: ['A', 'B', '2π/B', 'A·B'],
                correctIndex: 0,
                explanation: 'The amplitude A determines how high and low the wave goes from the center line.',
            },
        ],
    },

    // ============================================
    // LINEAR ALGEBRA SIMULATIONS
    // ============================================
    {
        id: 'vector-visualizer',
        title: 'Vector Visualizer',
        subject: 'mathematics',
        topic: 'Linear Algebra - Vectors',
        description: 'Drag vector tips to explore addition, subtraction, and dot products. See the parallelogram rule and projections come to life.',
        difficulty: 'medium',
        xpReward: 175,
        estimatedTime: '15-20 mins',
        icon: 'arrow-forward',
        color: '#FF9100',
        learningObjectives: [
            { id: 'vv-1', text: 'Add and subtract vectors geometrically' },
            { id: 'vv-2', text: 'Calculate magnitude and direction of vectors' },
            { id: 'vv-3', text: 'Understand dot product as projection' },
            { id: 'vv-4', text: 'Visualize the parallelogram rule for addition' },
        ],
        quizQuestions: [
            {
                id: 'vv-q1',
                question: 'The magnitude of vector (3, 4) is:',
                options: ['7', '5', '12', '1'],
                correctIndex: 1,
                explanation: '|v| = √(3² + 4²) = √(9 + 16) = √25 = 5',
            },
            {
                id: 'vv-q2',
                question: 'The dot product of (1, 2) and (3, 4) is:',
                options: ['14', '11', '10', '5'],
                correctIndex: 1,
                explanation: 'Dot product = 1×3 + 2×4 = 3 + 8 = 11',
            },
            {
                id: 'vv-q3',
                question: 'If two vectors are perpendicular, their dot product is:',
                options: ['1', '-1', '0', 'Undefined'],
                correctIndex: 2,
                explanation: 'Perpendicular vectors have a dot product of zero because there\'s no component of one in the direction of the other.',
            },
            {
                id: 'vv-q4',
                question: 'Vector a + vector b using the parallelogram rule gives a diagonal that represents:',
                options: ['a - b', 'a + b', 'a × b', 'a · b'],
                correctIndex: 1,
                explanation: 'The parallelogram rule shows that the diagonal from the common origin represents the sum a + b.',
            },
        ],
    },
    {
        id: 'matrix-sandbox',
        title: 'Matrix Sandbox',
        subject: 'mathematics',
        topic: 'Linear Algebra - Matrices',
        description: 'Apply 2×2 matrices to shapes and watch them transform. Explore rotation, reflection, shear, and scaling operations.',
        difficulty: 'hard',
        xpReward: 225,
        estimatedTime: '20-25 mins',
        icon: 'grid',
        color: '#E040FB',
        learningObjectives: [
            { id: 'ms-1', text: 'Apply matrix transformations to geometric shapes' },
            { id: 'ms-2', text: 'Understand determinant as area scale factor' },
            { id: 'ms-3', text: 'Identify rotation, reflection, shear matrices' },
            { id: 'ms-4', text: 'Compose multiple transformations via matrix multiplication' },
        ],
        quizQuestions: [
            {
                id: 'ms-q1',
                question: 'The determinant of a 2×2 matrix [[a,b],[c,d]] is:',
                options: ['a + d', 'ad - bc', 'ac - bd', 'ab + cd'],
                correctIndex: 1,
                explanation: 'The determinant of a 2×2 matrix is calculated as ad - bc.',
            },
            {
                id: 'ms-q2',
                question: 'If the determinant of a matrix is 2, the transformed shape\'s area is:',
                options: ['Halved', 'Doubled', 'Unchanged', 'Squared'],
                correctIndex: 1,
                explanation: 'The determinant represents the scale factor for areas. |det| = 2 means area doubles.',
            },
            {
                id: 'ms-q3',
                question: 'The identity matrix [[1,0],[0,1]] transforms a shape by:',
                options: ['Rotating 90°', 'Reflecting it', 'Doing nothing', 'Scaling by 2'],
                correctIndex: 2,
                explanation: 'The identity matrix leaves vectors unchanged: Iv = v for all vectors v.',
            },
            {
                id: 'ms-q4',
                question: 'A rotation matrix by 90° counterclockwise is:',
                options: ['[[0,-1],[1,0]]', '[[1,0],[0,-1]]', '[[0,1],[1,0]]', '[[-1,0],[0,-1]]'],
                correctIndex: 0,
                explanation: 'Rotation by 90° CCW: [[cos90°, -sin90°], [sin90°, cos90°]] = [[0, -1], [1, 0]]',
            },
        ],
    },

    // ============================================
    // OPTIMIZATION SIMULATIONS
    // ============================================
    {
        id: 'linear-programming-lab',
        title: 'Linear Programming Lab',
        subject: 'mathematics',
        topic: 'Optimization',
        description: 'Graph linear inequalities to find the feasible region. Drag the objective function line to find the optimal solution visually.',
        difficulty: 'hard',
        xpReward: 250,
        estimatedTime: '20-25 mins',
        icon: 'analytics',
        color: '#FFD740',
        learningObjectives: [
            { id: 'lp-1', text: 'Graph systems of linear inequalities' },
            { id: 'lp-2', text: 'Identify the feasible region' },
            { id: 'lp-3', text: 'Find corner points of the feasible region' },
            { id: 'lp-4', text: 'Determine optimal solutions for max/min problems' },
        ],
        quizQuestions: [
            {
                id: 'lp-q1',
                question: 'In linear programming, the optimal solution is always found at:',
                options: ['The origin', 'The center of the feasible region', 'A corner (vertex) of the feasible region', 'Outside the feasible region'],
                correctIndex: 2,
                explanation: 'The optimal solution for a linear objective function over a convex feasible region always occurs at a vertex.',
            },
            {
                id: 'lp-q2',
                question: 'The inequality 2x + 3y ≤ 12 represents:',
                options: ['A line only', 'A half-plane below/on the line', 'A half-plane above the line', 'A single point'],
                correctIndex: 1,
                explanation: 'A linear inequality in 2 variables represents a half-plane, including the boundary line when ≤ or ≥.',
            },
            {
                id: 'lp-q3',
                question: 'The feasible region is:',
                options: ['Always unbounded', 'The intersection of all constraint regions', 'A single line', 'Empty if constraints exist'],
                correctIndex: 1,
                explanation: 'The feasible region is the set of all points satisfying ALL constraints simultaneously.',
            },
            {
                id: 'lp-q4',
                question: 'If maximizing z = 3x + 2y, you move the objective line in which direction?',
                options: ['Toward the origin', 'Away from the origin', 'Parallel only', 'It depends on constraints'],
                correctIndex: 1,
                explanation: 'To maximize, you push the objective line as far as possible away from the origin while staying in the feasible region.',
            },
        ],
    },

    // ============================================
    // NEW SIMULATIONS (5 Additional)
    // ============================================
    {
        id: 'logarithms-lab',
        title: 'Logarithms Lab',
        subject: 'mathematics',
        topic: 'Algebra - Logarithms',
        description: 'Explore logarithmic functions and their relationship to exponentials. Drag sliders to see how base changes affect the curve.',
        difficulty: 'medium',
        xpReward: 175,
        estimatedTime: '15-20 mins',
        icon: 'pulse',
        color: '#26A69A',
        learningObjectives: [
            { id: 'lg-1', text: 'Understand logarithms as inverse of exponentials' },
            { id: 'lg-2', text: 'Apply laws of logarithms (product, quotient, power)' },
            { id: 'lg-3', text: 'Convert between logarithmic and exponential forms' },
            { id: 'lg-4', text: 'Solve equations involving logarithms' },
        ],
        quizQuestions: [
            {
                id: 'lg-q1',
                question: 'What is log₁₀(100)?',
                options: ['1', '2', '10', '100'],
                correctIndex: 1,
                explanation: 'log₁₀(100) = 2 because 10² = 100. The logarithm asks: "What power gives 100?"',
            },
            {
                id: 'lg-q2',
                question: 'If log₂(x) = 5, what is x?',
                options: ['10', '25', '32', '64'],
                correctIndex: 2,
                explanation: 'log₂(x) = 5 means 2⁵ = x, so x = 32.',
            },
            {
                id: 'lg-q3',
                question: 'log(ab) equals:',
                options: ['log(a) × log(b)', 'log(a) + log(b)', 'log(a) - log(b)', 'log(a) ÷ log(b)'],
                correctIndex: 1,
                explanation: 'The product rule: log(ab) = log(a) + log(b). Logs turn multiplication into addition.',
            },
            {
                id: 'lg-q4',
                question: 'The natural logarithm ln(x) uses which base?',
                options: ['10', '2', 'e ≈ 2.718', 'π'],
                correctIndex: 2,
                explanation: 'The natural logarithm uses base e (Euler\'s number ≈ 2.718281828...).',
            },
        ],
    },
    {
        id: 'probability-simulator',
        title: 'Probability Simulator',
        subject: 'mathematics',
        topic: 'Probability & Statistics',
        description: 'Roll dice, flip coins, and see probability distributions form in real-time. Watch the law of large numbers in action.',
        difficulty: 'easy',
        xpReward: 150,
        estimatedTime: '10-15 mins',
        icon: 'dice',
        color: '#AB47BC',
        learningObjectives: [
            { id: 'pb-1', text: 'Calculate theoretical probabilities' },
            { id: 'pb-2', text: 'Understand experimental vs theoretical probability' },
            { id: 'pb-3', text: 'Observe the law of large numbers' },
            { id: 'pb-4', text: 'Apply addition and multiplication rules' },
        ],
        quizQuestions: [
            {
                id: 'pb-q1',
                question: 'The probability of rolling a 6 on a fair die is:',
                options: ['1/2', '1/3', '1/6', '6'],
                correctIndex: 2,
                explanation: 'A fair die has 6 outcomes, each equally likely. P(6) = 1/6.',
            },
            {
                id: 'pb-q2',
                question: 'If you flip a coin twice, P(two heads) is:',
                options: ['1/2', '1/4', '1/3', '2/4'],
                correctIndex: 1,
                explanation: 'P(HH) = P(H) × P(H) = 1/2 × 1/2 = 1/4. Independent events multiply.',
            },
            {
                id: 'pb-q3',
                question: 'The law of large numbers says that as trials increase:',
                options: ['Results become random', 'Experimental probability approaches theoretical probability', 'All outcomes become equal', 'Probability decreases'],
                correctIndex: 1,
                explanation: 'With many trials, the experimental probability converges to the theoretical value.',
            },
            {
                id: 'pb-q4',
                question: 'A probability can have a value:',
                options: ['Between 0 and 1 only', 'Any positive number', 'Between -1 and 1', 'Any number'],
                correctIndex: 0,
                explanation: 'Probabilities are always between 0 (impossible) and 1 (certain), inclusive.',
            },
        ],
    },
    {
        id: 'sequences-series-lab',
        title: 'Sequences & Series Lab',
        subject: 'mathematics',
        topic: 'Algebra - Sequences',
        description: 'Build arithmetic and geometric sequences step by step. Visualize convergent and divergent series with animated partial sums.',
        difficulty: 'medium',
        xpReward: 200,
        estimatedTime: '15-20 mins',
        icon: 'list',
        color: '#42A5F5',
        learningObjectives: [
            { id: 'ss-1', text: 'Identify arithmetic and geometric sequences' },
            { id: 'ss-2', text: 'Find nth terms using formulas' },
            { id: 'ss-3', text: 'Calculate sums of arithmetic and geometric series' },
            { id: 'ss-4', text: 'Determine if a geometric series converges' },
        ],
        quizQuestions: [
            {
                id: 'ss-q1',
                question: 'In an arithmetic sequence, the difference between consecutive terms is:',
                options: ['Variable', 'Constant', 'Increasing', 'Zero'],
                correctIndex: 1,
                explanation: 'An arithmetic sequence has a constant common difference d between terms.',
            },
            {
                id: 'ss-q2',
                question: 'The 10th term of the sequence 2, 5, 8, 11, ... is:',
                options: ['29', '26', '32', '35'],
                correctIndex: 0,
                explanation: 'First term a = 2, common difference d = 3. T₁₀ = a + (n-1)d = 2 + 9(3) = 29.',
            },
            {
                id: 'ss-q3',
                question: 'A geometric series converges only if:',
                options: ['r > 1', 'r < 1', '|r| < 1', '|r| > 1'],
                correctIndex: 2,
                explanation: 'A geometric series converges when the common ratio r satisfies |r| < 1.',
            },
            {
                id: 'ss-q4',
                question: 'The sum of an infinite geometric series with a = 4 and r = 0.5 is:',
                options: ['2', '4', '8', 'Infinite'],
                correctIndex: 2,
                explanation: 'S∞ = a/(1-r) = 4/(1-0.5) = 4/0.5 = 8',
            },
        ],
    },
    {
        id: 'statistics-explorer',
        title: 'Statistics Explorer',
        subject: 'mathematics',
        topic: 'Statistics',
        description: 'Add data points and watch mean, median, mode, and standard deviation update in real-time. See how outliers affect measures.',
        difficulty: 'easy',
        xpReward: 150,
        estimatedTime: '10-15 mins',
        icon: 'bar-chart',
        color: '#66BB6A',
        learningObjectives: [
            { id: 'st-1', text: 'Calculate mean, median, and mode' },
            { id: 'st-2', text: 'Understand the effect of outliers on measures' },
            { id: 'st-3', text: 'Calculate variance and standard deviation' },
            { id: 'st-4', text: 'Choose appropriate measures for data sets' },
        ],
        quizQuestions: [
            {
                id: 'st-q1',
                question: 'For the data set 2, 3, 5, 7, 8, the median is:',
                options: ['5', '3', '7', '25'],
                correctIndex: 0,
                explanation: 'The median is the middle value when ordered. With 5 values, the median is the 3rd value = 5.',
            },
            {
                id: 'st-q2',
                question: 'Which measure is MOST affected by outliers?',
                options: ['Median', 'Mode', 'Mean', 'Range'],
                correctIndex: 2,
                explanation: 'The mean is most sensitive to outliers because every value is included in the calculation.',
            },
            {
                id: 'st-q3',
                question: 'Standard deviation measures:',
                options: ['The average value', 'The middle value', 'The spread of data from the mean', 'The most common value'],
                correctIndex: 2,
                explanation: 'Standard deviation measures how spread out the data is from the mean.',
            },
            {
                id: 'st-q4',
                question: 'For the data set 4, 4, 6, 8, the mode is:',
                options: ['4', '5.5', '6', '22'],
                correctIndex: 0,
                explanation: 'The mode is the most frequently occurring value. Here, 4 appears twice.',
            },
        ],
    },
    {
        id: 'simultaneous-equations-lab',
        title: 'Simultaneous Equations Lab',
        subject: 'mathematics',
        topic: 'Algebra - Systems of Equations',
        description: 'Graph two lines and find their intersection point. Explore substitution and elimination methods with step-by-step solutions.',
        difficulty: 'medium',
        xpReward: 175,
        estimatedTime: '15-20 mins',
        icon: 'git-merge',
        color: '#EF5350',
        learningObjectives: [
            { id: 'se-1', text: 'Solve simultaneous equations graphically' },
            { id: 'se-2', text: 'Apply the substitution method' },
            { id: 'se-3', text: 'Apply the elimination method' },
            { id: 'se-4', text: 'Identify cases with no solution or infinite solutions' },
        ],
        quizQuestions: [
            {
                id: 'se-q1',
                question: 'The solution to simultaneous equations graphically is:',
                options: ['Where both lines cross the x-axis', 'The point where the two lines intersect', 'The y-intercept of both lines', 'The gradient of the lines'],
                correctIndex: 1,
                explanation: 'The solution is the point (x, y) where both lines meet, satisfying both equations.',
            },
            {
                id: 'se-q2',
                question: 'Solve: x + y = 5 and x - y = 1. What is x?',
                options: ['2', '3', '4', '5'],
                correctIndex: 1,
                explanation: 'Adding: 2x = 6, so x = 3. (Then y = 2 from the first equation.)',
            },
            {
                id: 'se-q3',
                question: 'If two lines are parallel, the system has:',
                options: ['One solution', 'No solution', 'Infinite solutions', 'Two solutions'],
                correctIndex: 1,
                explanation: 'Parallel lines never meet, so there is no point satisfying both equations.',
            },
            {
                id: 'se-q4',
                question: 'In the elimination method, you:',
                options: ['Substitute one variable', 'Add or subtract equations to eliminate a variable', 'Graph both lines', 'Find the y-intercept'],
                correctIndex: 1,
                explanation: 'The elimination method adds or subtracts equations to cancel out one variable.',
            },
        ],
    },
    // ============================================
    // O-LEVEL CORE SIMULATIONS
    // ============================================
    {
        id: 'ratio-proportion-lab',
        title: 'Ratio & Proportion Lab',
        subject: 'mathematics',
        topic: 'Number - Ratio and Proportion',
        description: 'Build ratios with sliders and scale them to real quantities. See equivalent ratios and totals update instantly.',
        difficulty: 'easy',
        xpReward: 150,
        estimatedTime: '10-15 mins',
        icon: 'scale',
        color: '#26A69A',
        learningObjectives: [
            { id: 'rp-1', text: 'Simplify and compare ratios' },
            { id: 'rp-2', text: 'Find equivalent ratios by scaling' },
            { id: 'rp-3', text: 'Connect ratios to real quantities' },
            { id: 'rp-4', text: 'Solve simple proportion problems' },
        ],
        handsOnActivity: {
            type: 'experiment_runner',
            intro: 'Adjust the parts and scale to build equivalent ratios and totals.',
            controls: [
                { id: 'a', label: 'Part A', min: 1, max: 12, step: 1, defaultValue: 2 },
                { id: 'b', label: 'Part B', min: 1, max: 12, step: 1, defaultValue: 3 },
                { id: 'scale', label: 'Scale', min: 1, max: 10, step: 1, defaultValue: 5 },
            ],
            readouts: [
                { id: 'ratio', label: 'A:B ratio', formula: 'a / b', decimals: 2 },
                { id: 'total', label: 'Total', formula: '(a + b) * scale', decimals: 0 },
                { id: 'aReal', label: 'A value', formula: 'a * scale', decimals: 0 },
            ],
            tasks: [
                { id: 'rp-t1', instruction: 'Make A:B close to 2:3', condition: 'ratio >= 0.64 && ratio <= 0.7' },
                { id: 'rp-t2', instruction: 'Make the total between 60 and 80', condition: 'total >= 60 && total <= 80' },
                { id: 'rp-t3', instruction: 'Make the ratio 1:1 (A equals B)', condition: 'a == b' },
            ],
            requiredTasksToUnlock: 2,
        },
        quizQuestions: [
            {
                id: 'rp-q1',
                question: 'Simplify the ratio 12:18.',
                options: ['2:3', '3:2', '4:6', '6:9'],
                correctIndex: 0,
                explanation: 'Divide both parts by the highest common factor 6 to get 2:3.',
            },
            {
                id: 'rp-q2',
                question: 'If the ratio of boys to girls is 3:5 and there are 24 boys, how many girls?',
                options: ['30', '35', '40', '45'],
                correctIndex: 2,
                explanation: 'Scale factor = 24/3 = 8, so girls = 5 x 8 = 40.',
            },
            {
                id: 'rp-q3',
                question: 'Which ratio is equivalent to 4:7?',
                options: ['8:14', '12:20', '16:30', '20:28'],
                correctIndex: 0,
                explanation: 'Multiply both parts by 2 to get 8:14.',
            },
            {
                id: 'rp-q4',
                question: 'A mixture is 2 parts juice to 3 parts water. What fraction is juice?',
                options: ['2/3', '2/5', '3/5', '3/2'],
                correctIndex: 1,
                explanation: 'Total parts = 5, so juice is 2/5.',
            },
        ],
    },
    {
        id: 'indices-standard-form-lab',
        title: 'Indices & Standard Form Lab',
        subject: 'mathematics',
        topic: 'Number - Indices and Standard Form',
        description: 'Match powers of ten to their standard form and compare sizes quickly.',
        difficulty: 'easy',
        xpReward: 150,
        estimatedTime: '10-15 mins',
        icon: 'rocket',
        color: '#8E24AA',
        learningObjectives: [
            { id: 'is-1', text: 'Use index laws to simplify expressions' },
            { id: 'is-2', text: 'Convert between ordinary numbers and standard form' },
            { id: 'is-3', text: 'Compare numbers written in standard form' },
            { id: 'is-4', text: 'Interpret negative indices' },
        ],
        handsOnActivity: {
            type: 'matching',
            prompt: 'Match each standard form number to its ordinary value.',
            pairs: [
                { left: '3.4 x 10^5', right: '340000' },
                { left: '5.6 x 10^-4', right: '0.00056' },
                { left: '7.2 x 10^2', right: '720' },
                { left: '1.25 x 10^-3', right: '0.00125' },
                { left: '9 x 10^0', right: '9' },
            ],
            requiredCorrectToUnlock: 4,
        },
        quizQuestions: [
            {
                id: 'is-q1',
                question: 'Write 0.00072 in standard form.',
                options: ['7.2 x 10^-4', '72 x 10^-5', '0.72 x 10^-3', '7.2 x 10^-3'],
                correctIndex: 0,
                explanation: 'Move the decimal 4 places to get 7.2 x 10^-4.',
            },
            {
                id: 'is-q2',
                question: 'Simplify 10^3 x 10^2.',
                options: ['10^5', '10^6', '10^1', '10^8'],
                correctIndex: 0,
                explanation: 'Add powers when multiplying: 3 + 2 = 5.',
            },
            {
                id: 'is-q3',
                question: 'Which is larger?',
                options: ['3.1 x 10^4', '4.9 x 10^3', '2.8 x 10^4', '9.5 x 10^2'],
                correctIndex: 0,
                explanation: '3.1 x 10^4 = 31,000, which is larger than the others.',
            },
            {
                id: 'is-q4',
                question: 'Simplify 5^2 / 5^4.',
                options: ['5^6', '5^-2', '5^2', '5^-6'],
                correctIndex: 1,
                explanation: 'Subtract powers when dividing: 2 - 4 = -2.',
            },
        ],
    },
    {
        id: 'bounds-accuracy-lab',
        title: 'Bounds & Accuracy Lab',
        subject: 'mathematics',
        topic: 'Number - Bounds and Accuracy',
        description: 'Explore rounding and error intervals to find upper and lower bounds.',
        difficulty: 'medium',
        xpReward: 175,
        estimatedTime: '15-20 mins',
        icon: 'compass',
        color: '#5C6BC0',
        learningObjectives: [
            { id: 'ba-1', text: 'Find upper and lower bounds for rounded values' },
            { id: 'ba-2', text: 'Use significant figures and decimal places' },
            { id: 'ba-3', text: 'Describe error intervals correctly' },
            { id: 'ba-4', text: 'Apply bounds in calculations' },
        ],
        handsOnActivity: {
            type: 'matching',
            prompt: 'Match each rounded value to its correct bounds.',
            pairs: [
                { left: 'Nearest 10: 320', right: '315 <= x < 325' },
                { left: '1 dp: 7.2', right: '7.15 <= x < 7.25' },
                { left: '2 sf: 3.5', right: '3.45 <= x < 3.55' },
                { left: 'Nearest whole: 12', right: '11.5 <= x < 12.5' },
                { left: '3 dp: 0.086', right: '0.0855 <= x < 0.0865' },
            ],
            requiredCorrectToUnlock: 4,
        },
        quizQuestions: [
            {
                id: 'ba-q1',
                question: 'A value is 6.4 correct to 1 decimal place. The lower bound is:',
                options: ['6.35', '6.4', '6.45', '6.3'],
                correctIndex: 0,
                explanation: 'Half of 0.1 is 0.05, so lower bound is 6.35.',
            },
            {
                id: 'ba-q2',
                question: 'Which statement is correct for x rounded to the nearest whole number as 9?',
                options: ['8 <= x < 9', '8.5 <= x < 9.5', '9 <= x < 9.5', '8.5 < x <= 9.5'],
                correctIndex: 1,
                explanation: 'Nearest whole number gives bounds of 8.5 to 9.5 (upper bound excluded).',
            },
            {
                id: 'ba-q3',
                question: 'Which is the upper bound for 2.3 correct to 1 dp?',
                options: ['2.25', '2.35', '2.30', '2.40'],
                correctIndex: 1,
                explanation: 'Upper bound is 2.35 when rounded to 1 decimal place.',
            },
            {
                id: 'ba-q4',
                question: 'If a length is 4.50 m correct to 2 dp, the interval width is:',
                options: ['0.01', '0.02', '0.05', '0.1'],
                correctIndex: 0,
                explanation: 'Each bound is 0.005 away, so total width is 0.01.',
            },
        ],
    },
    {
        id: 'linear-graphs-lab',
        title: 'Linear Graphs Lab',
        subject: 'mathematics',
        topic: 'Algebra and Graphs - Straight Lines',
        description: 'Adjust gradient and intercept to see how y = mx + c moves. Test points against the line.',
        difficulty: 'easy',
        xpReward: 150,
        estimatedTime: '10-15 mins',
        icon: 'git-branch',
        color: '#43A047',
        learningObjectives: [
            { id: 'lg-1', text: 'Interpret gradient and y-intercept' },
            { id: 'lg-2', text: 'Plot straight-line graphs from equations' },
            { id: 'lg-3', text: 'Check if a point lies on a line' },
            { id: 'lg-4', text: 'Link algebraic and graphical forms' },
        ],
        handsOnActivity: {
            type: 'experiment_runner',
            intro: 'Change m and c to see the line move. Then test if your point lies on the line.',
            controls: [
                { id: 'm', label: 'Gradient (m)', min: -5, max: 5, step: 1, defaultValue: 1 },
                { id: 'c', label: 'Intercept (c)', min: -10, max: 10, step: 1, defaultValue: 0 },
                { id: 'x', label: 'Point x', min: -10, max: 10, step: 1, defaultValue: 2 },
                { id: 'y', label: 'Point y', min: -10, max: 10, step: 1, defaultValue: 2 },
            ],
            readouts: [
                { id: 'yLine', label: 'Line value', formula: 'm * x + c', decimals: 0 },
                { id: 'diff', label: 'y - line', formula: 'y - yLine', decimals: 0 },
            ],
            tasks: [
                { id: 'lg-t1', instruction: 'Set the y-intercept to 3', condition: 'c == 3' },
                { id: 'lg-t2', instruction: 'Choose a point on the line', condition: 'diff == 0' },
                { id: 'lg-t3', instruction: 'Make the gradient negative', condition: 'm < 0' },
            ],
            requiredTasksToUnlock: 2,
        },
        quizQuestions: [
            {
                id: 'lg-q1',
                question: 'In y = 2x - 3, the gradient is:',
                options: ['-3', '2', '3', '-2'],
                correctIndex: 1,
                explanation: 'The gradient is the coefficient of x, which is 2.',
            },
            {
                id: 'lg-q2',
                question: 'The y-intercept of y = -x + 5 is:',
                options: ['-1', '1', '5', '-5'],
                correctIndex: 2,
                explanation: 'The y-intercept is the value of y when x = 0, which is 5.',
            },
            {
                id: 'lg-q3',
                question: 'Which point lies on the line y = 3x + 1?',
                options: ['(1,4)', '(2,5)', '(0,3)', '(2,6)'],
                correctIndex: 0,
                explanation: 'Substitute x = 1 to get y = 3(1) + 1 = 4.',
            },
            {
                id: 'lg-q4',
                question: 'A line with gradient 0 is:',
                options: ['Vertical', 'Horizontal', 'Curved', 'Undefined'],
                correctIndex: 1,
                explanation: 'Gradient 0 means the line is flat and horizontal.',
            },
        ],
    },
    {
        id: 'inequalities-region-lab',
        title: 'Inequalities & Regions Lab',
        subject: 'mathematics',
        topic: 'Algebra and Graphs - Inequalities',
        description: 'Test points against an inequality and see how regions are defined by a boundary line.',
        difficulty: 'medium',
        xpReward: 175,
        estimatedTime: '15-20 mins',
        icon: 'map',
        color: '#7CB342',
        learningObjectives: [
            { id: 'ir-1', text: 'Interpret inequalities graphically' },
            { id: 'ir-2', text: 'Test if a point satisfies an inequality' },
            { id: 'ir-3', text: 'Identify boundary lines and regions' },
            { id: 'ir-4', text: 'Distinguish inclusive vs exclusive boundaries' },
        ],
        handsOnActivity: {
            type: 'experiment_runner',
            intro: 'Use a line y = mx + c and test whether your point satisfies y >= mx + c.',
            controls: [
                { id: 'm', label: 'Gradient (m)', min: -4, max: 4, step: 1, defaultValue: 1 },
                { id: 'c', label: 'Intercept (c)', min: -6, max: 6, step: 1, defaultValue: 0 },
                { id: 'x', label: 'Point x', min: -6, max: 6, step: 1, defaultValue: 0 },
                { id: 'y', label: 'Point y', min: -6, max: 6, step: 1, defaultValue: 0 },
            ],
            readouts: [
                { id: 'yLine', label: 'Line value', formula: 'm * x + c', decimals: 0 },
                { id: 'check', label: 'y - line', formula: 'y - yLine', decimals: 0 },
            ],
            tasks: [
                { id: 'ir-t1', instruction: 'Place the point in the solution region', condition: 'check >= 0' },
                { id: 'ir-t2', instruction: 'Place the point below the line', condition: 'check <= -1' },
                { id: 'ir-t3', instruction: 'Put the point on the boundary', condition: 'check >= -0.1 && check <= 0.1' },
            ],
            requiredTasksToUnlock: 2,
        },
        quizQuestions: [
            {
                id: 'ir-q1',
                question: 'The boundary line for y > 2x + 1 is:',
                options: ['y = 2x + 1 (dashed)', 'y = 2x + 1 (solid)', 'y = -2x + 1', 'x = 2y + 1'],
                correctIndex: 0,
                explanation: 'Strict inequalities use a dashed boundary line.',
            },
            {
                id: 'ir-q2',
                question: 'Which point satisfies y >= x + 2?',
                options: ['(0,1)', '(2,5)', '(1,2)', '(3,4)'],
                correctIndex: 1,
                explanation: 'For (2,5), 5 >= 4 is true. The others do not satisfy the inequality.',
            },
            {
                id: 'ir-q3',
                question: 'The solution region of y < -x lies:',
                options: ['Above the line', 'Below the line', 'On the line only', 'To the right of the line'],
                correctIndex: 1,
                explanation: 'y < -x means points below the line y = -x.',
            },
            {
                id: 'ir-q4',
                question: 'If the inequality uses <=, the boundary line is:',
                options: ['Not drawn', 'Dashed', 'Solid', 'Dotted only'],
                correctIndex: 2,
                explanation: 'Inclusive inequalities use solid boundary lines.',
            },
        ],
    },
    {
        id: 'angle-rules-lab',
        title: 'Angle Rules Lab',
        subject: 'mathematics',
        topic: 'Geometry - Angle Rules',
        description: 'Match angle relationships and apply rules for parallel lines and polygons.',
        difficulty: 'easy',
        xpReward: 150,
        estimatedTime: '10-15 mins',
        icon: 'compass',
        color: '#EF6C00',
        learningObjectives: [
            { id: 'ar-1', text: 'Use angle facts on a line and around a point' },
            { id: 'ar-2', text: 'Apply parallel line angle rules' },
            { id: 'ar-3', text: 'Use angle sums in triangles and quadrilaterals' },
            { id: 'ar-4', text: 'Identify corresponding and alternate angles' },
        ],
        handsOnActivity: {
            type: 'matching',
            prompt: 'Match each angle rule to the correct statement.',
            pairs: [
                { left: 'Angles on a straight line', right: 'Sum to 180 degrees' },
                { left: 'Angles around a point', right: 'Sum to 360 degrees' },
                { left: 'Alternate angles', right: 'Equal when lines are parallel' },
                { left: 'Co-interior angles', right: 'Sum to 180 degrees (parallel lines)' },
                { left: 'Triangle interior angles', right: 'Sum to 180 degrees' },
            ],
            requiredCorrectToUnlock: 4,
        },
        quizQuestions: [
            {
                id: 'ar-q1',
                question: 'Two angles on a straight line are 110 degrees and x degrees. Find x.',
                options: ['70', '80', '90', '110'],
                correctIndex: 0,
                explanation: 'Angles on a straight line sum to 180, so x = 180 - 110 = 70.',
            },
            {
                id: 'ar-q2',
                question: 'In a triangle, two angles are 50 degrees and 60 degrees. The third angle is:',
                options: ['70', '80', '90', '110'],
                correctIndex: 0,
                explanation: 'Triangle angles sum to 180, so 180 - 110 = 70.',
            },
            {
                id: 'ar-q3',
                question: 'Alternate angles are equal when:',
                options: ['Lines are parallel', 'Lines intersect', 'Angles are reflex', 'Triangles are congruent'],
                correctIndex: 0,
                explanation: 'Alternate interior angles are equal when lines are parallel.',
            },
            {
                id: 'ar-q4',
                question: 'The sum of interior angles of a quadrilateral is:',
                options: ['180', '270', '360', '540'],
                correctIndex: 2,
                explanation: 'A quadrilateral can be split into two triangles, so 2 x 180 = 360.',
            },
        ],
    },
    {
        id: 'similarity-scale-lab',
        title: 'Similarity & Scale Factor Lab',
        subject: 'mathematics',
        topic: 'Geometry - Similarity and Scale',
        description: 'Scale shapes and see how lengths, areas, and volumes change with the scale factor.',
        difficulty: 'medium',
        xpReward: 175,
        estimatedTime: '15-20 mins',
        icon: 'scale',
        color: '#8D6E63',
        learningObjectives: [
            { id: 'ss-1', text: 'Identify similar shapes' },
            { id: 'ss-2', text: 'Use scale factors for lengths' },
            { id: 'ss-3', text: 'Apply area and volume scale factors' },
            { id: 'ss-4', text: 'Solve similarity problems' },
        ],
        handsOnActivity: {
            type: 'experiment_runner',
            intro: 'Change the scale factor and watch lengths, areas, and volumes scale.',
            controls: [
                { id: 'k', label: 'Scale factor (k)', min: 0.5, max: 3, step: 0.5, defaultValue: 2 },
                { id: 'length', label: 'Original length', min: 2, max: 10, step: 1, defaultValue: 4 },
            ],
            readouts: [
                { id: 'newLength', label: 'New length', formula: 'k * length', decimals: 1 },
                { id: 'areaFactor', label: 'Area factor', formula: 'k * k', decimals: 2 },
                { id: 'volumeFactor', label: 'Volume factor', formula: 'k * k * k', decimals: 2 },
            ],
            tasks: [
                { id: 'ss-t1', instruction: 'Set scale factor to 2', condition: 'k == 2' },
                { id: 'ss-t2', instruction: 'Shrink the shape (k < 1)', condition: 'k < 1' },
                { id: 'ss-t3', instruction: 'Make the new length at least 10', condition: 'newLength >= 10' },
            ],
            requiredTasksToUnlock: 2,
        },
        quizQuestions: [
            {
                id: 'ss-q1',
                question: 'Two shapes are similar if:',
                options: ['All angles are equal and sides are proportional', 'All sides are equal', 'All angles are 90 degrees', 'Their areas are equal'],
                correctIndex: 0,
                explanation: 'Similarity means equal corresponding angles and proportional sides.',
            },
            {
                id: 'ss-q2',
                question: 'If the scale factor is 3, the area scale factor is:',
                options: ['3', '6', '9', '27'],
                correctIndex: 2,
                explanation: 'Area scales by k^2, so 3^2 = 9.',
            },
            {
                id: 'ss-q3',
                question: 'If the scale factor is 0.5, lengths:',
                options: ['Double', 'Stay the same', 'Halve', 'Triple'],
                correctIndex: 2,
                explanation: 'Lengths are multiplied by the scale factor, so they halve.',
            },
            {
                id: 'ss-q4',
                question: 'If the volume scale factor is 8, the length scale factor is:',
                options: ['2', '4', '8', '16'],
                correctIndex: 0,
                explanation: 'Volume scales by k^3, so k = 2 gives 2^3 = 8.',
            },
        ],
    },
    {
        id: 'mensuration-lab',
        title: 'Mensuration Lab',
        subject: 'mathematics',
        topic: 'Mensuration - Area and Volume',
        description: 'Calculate areas and volumes for rectangles, triangles, and cuboids using sliders.',
        difficulty: 'medium',
        xpReward: 175,
        estimatedTime: '15-20 mins',
        icon: 'beaker',
        color: '#26C6DA',
        learningObjectives: [
            { id: 'ml-1', text: 'Calculate area of rectangles and triangles' },
            { id: 'ml-2', text: 'Calculate volume of a cuboid' },
            { id: 'ml-3', text: 'Choose the correct formula for a shape' },
            { id: 'ml-4', text: 'Interpret units of area and volume' },
        ],
        handsOnActivity: {
            type: 'experiment_runner',
            intro: 'Adjust dimensions and see area and volume update.',
            controls: [
                { id: 'length', label: 'Length', min: 2, max: 20, step: 1, defaultValue: 10 },
                { id: 'width', label: 'Width', min: 2, max: 20, step: 1, defaultValue: 5 },
                { id: 'height', label: 'Height', min: 2, max: 20, step: 1, defaultValue: 4 },
                { id: 'base', label: 'Triangle base', min: 2, max: 20, step: 1, defaultValue: 8 },
            ],
            readouts: [
                { id: 'areaRect', label: 'Rect area', formula: 'length * width', decimals: 0 },
                { id: 'areaTri', label: 'Tri area', formula: '(base * height) / 2', decimals: 0 },
                { id: 'volume', label: 'Cuboid volume', formula: 'length * width * height', decimals: 0 },
            ],
            tasks: [
                { id: 'ml-t1', instruction: 'Make rectangle area between 60 and 80', condition: 'areaRect >= 60 && areaRect <= 80' },
                { id: 'ml-t2', instruction: 'Make triangle area about 30', condition: 'areaTri >= 28 && areaTri <= 32' },
                { id: 'ml-t3', instruction: 'Make volume at least 300', condition: 'volume >= 300' },
            ],
            requiredTasksToUnlock: 2,
        },
        quizQuestions: [
            {
                id: 'ml-q1',
                question: 'The area of a triangle with base 10 and height 6 is:',
                options: ['30', '60', '16', '26'],
                correctIndex: 0,
                explanation: 'Area = (base x height) / 2 = (10 x 6) / 2 = 30.',
            },
            {
                id: 'ml-q2',
                question: 'The volume of a cuboid 4 x 3 x 5 is:',
                options: ['12', '20', '60', '120'],
                correctIndex: 2,
                explanation: 'Volume = length x width x height = 4 x 3 x 5 = 60.',
            },
            {
                id: 'ml-q3',
                question: 'The area of a rectangle 8 by 7 is:',
                options: ['15', '28', '56', '64'],
                correctIndex: 2,
                explanation: 'Area = length x width = 8 x 7 = 56.',
            },
            {
                id: 'ml-q4',
                question: 'If a unit is cm, area units are:',
                options: ['cm', 'cm^2', 'cm^3', 'm^2'],
                correctIndex: 1,
                explanation: 'Area uses squared units, so cm^2.',
            },
        ],
    },
    {
        id: 'pythagoras-trig-lab',
        title: 'Pythagoras Lab',
        subject: 'mathematics',
        topic: 'Trigonometry - Pythagoras and Ratios',
        description: 'Build right triangles and verify a^2 + b^2 = c^2. Link side lengths to trig ratios.',
        difficulty: 'easy',
        xpReward: 150,
        estimatedTime: '10-15 mins',
        icon: 'compass',
        color: '#5E35B1',
        learningObjectives: [
            { id: 'pt-1', text: 'Use Pythagoras in right triangles' },
            { id: 'pt-2', text: 'Identify opposite, adjacent, and hypotenuse' },
            { id: 'pt-3', text: 'Recall sin, cos, and tan ratios' },
            { id: 'pt-4', text: 'Solve for missing sides' },
        ],
        handsOnActivity: {
            type: 'experiment_runner',
            intro: 'Adjust the legs and hypotenuse guess to satisfy a^2 + b^2 = c^2.',
            controls: [
                { id: 'a', label: 'Leg a', min: 1, max: 12, step: 1, defaultValue: 3 },
                { id: 'b', label: 'Leg b', min: 1, max: 12, step: 1, defaultValue: 4 },
                { id: 'c', label: 'Hypotenuse', min: 1, max: 15, step: 1, defaultValue: 5 },
            ],
            readouts: [
                { id: 'c2', label: 'a^2 + b^2', formula: 'a * a + b * b', decimals: 0 },
                { id: 'cGuess2', label: 'c^2', formula: 'c * c', decimals: 0 },
                { id: 'diff', label: 'Difference', formula: 'cGuess2 - c2', decimals: 0 },
            ],
            tasks: [
                { id: 'pt-t1', instruction: 'Make a 3-4-5 triangle', condition: 'diff == 0 && a == 3 && b == 4 && c == 5' },
                { id: 'pt-t2', instruction: 'Make a^2 + b^2 equal 100', condition: 'c2 == 100' },
                { id: 'pt-t3', instruction: 'Make an isosceles right triangle (a = b)', condition: 'a == b' },
            ],
            requiredTasksToUnlock: 2,
        },
        quizQuestions: [
            {
                id: 'pt-q1',
                question: 'In a right triangle with legs 6 and 8, the hypotenuse is:',
                options: ['10', '12', '14', '16'],
                correctIndex: 0,
                explanation: '6^2 + 8^2 = 36 + 64 = 100, so c = 10.',
            },
            {
                id: 'pt-q2',
                question: 'sin(theta) equals:',
                options: ['adjacent/hypotenuse', 'opposite/hypotenuse', 'opposite/adjacent', 'hypotenuse/opposite'],
                correctIndex: 1,
                explanation: 'sin = opposite over hypotenuse.',
            },
            {
                id: 'pt-q3',
                question: 'cos(theta) equals:',
                options: ['adjacent/hypotenuse', 'opposite/hypotenuse', 'opposite/adjacent', 'hypotenuse/adjacent'],
                correctIndex: 0,
                explanation: 'cos = adjacent over hypotenuse.',
            },
            {
                id: 'pt-q4',
                question: 'tan(theta) equals:',
                options: ['adjacent/hypotenuse', 'opposite/hypotenuse', 'opposite/adjacent', 'hypotenuse/opposite'],
                correctIndex: 2,
                explanation: 'tan = opposite over adjacent.',
            },
        ],
    },
    {
        id: 'transformations-lab',
        title: 'Transformations Lab',
        subject: 'mathematics',
        topic: 'Transformations and Vectors',
        description: 'Identify and describe translations, reflections, rotations, and enlargements.',
        difficulty: 'easy',
        xpReward: 150,
        estimatedTime: '10-15 mins',
        icon: 'map',
        color: '#D81B60',
        learningObjectives: [
            { id: 'tl-1', text: 'Describe translations, reflections, rotations, and enlargements' },
            { id: 'tl-2', text: 'Use vectors to describe translations' },
            { id: 'tl-3', text: 'Identify centers and angles of rotation' },
            { id: 'tl-4', text: 'Recognize combined transformations' },
        ],
        handsOnActivity: {
            type: 'matching',
            prompt: 'Match each transformation to its description.',
            pairs: [
                { left: 'Translation', right: 'Slide by a vector' },
                { left: 'Reflection', right: 'Flip in a line (mirror)' },
                { left: 'Rotation', right: 'Turn about a point' },
                { left: 'Enlargement', right: 'Scale from a center' },
                { left: 'Vector', right: 'Directed move with magnitude and direction' },
            ],
            requiredCorrectToUnlock: 4,
        },
        quizQuestions: [
            {
                id: 'tl-q1',
                question: 'A translation is described by:',
                options: ['A center and angle', 'A line of reflection', 'A vector', 'A scale factor only'],
                correctIndex: 2,
                explanation: 'Translations move every point by the same vector.',
            },
            {
                id: 'tl-q2',
                question: 'A rotation of 90 degrees clockwise is a turn of:',
                options: ['90 degrees to the left', '90 degrees to the right', '180 degrees', '360 degrees'],
                correctIndex: 1,
                explanation: 'Clockwise means to the right.',
            },
            {
                id: 'tl-q3',
                question: 'An enlargement with scale factor 2 makes lengths:',
                options: ['Half', 'Double', 'Triple', 'Unchanged'],
                correctIndex: 1,
                explanation: 'Lengths are multiplied by the scale factor.',
            },
            {
                id: 'tl-q4',
                question: 'A reflection in the y-axis changes (x, y) to:',
                options: ['(x, -y)', '(-x, y)', '(-x, -y)', '(y, x)'],
                correctIndex: 1,
                explanation: 'Reflecting in the y-axis changes the sign of x only.',
            },
        ],
    },
];

// ============================================
// MATH LAB BADGES
// ============================================

export const MATH_LAB_BADGES: Badge[] = [
    {
        id: 'calculus-initiate',
        name: 'Calculus Initiate',
        description: 'Complete both Differentiation and Integration labs',
        icon: 'calculator',
        requirement: { type: 'simulations_completed', value: 2, subject: 'mathematics' },
    },
    {
        id: 'math-explorer',
        name: 'Math Explorer',
        description: 'Complete 4 mathematics simulations',
        icon: 'compass',
        requirement: { type: 'simulations_completed', value: 4, subject: 'mathematics' },
    },
    {
        id: 'math-master',
        name: 'Mathematics Master',
        description: 'Complete all 23 mathematics simulations',
        icon: 'trophy',
        requirement: { type: 'subject_mastery', value: 23, subject: 'mathematics' },
    },
    {
        id: 'complex-thinker',
        name: 'Complex Thinker',
        description: 'Score 100% on the Complex Numbers quiz',
        icon: 'infinite',
        requirement: { type: 'perfect_quiz', value: 1, subject: 'mathematics' },
    },
];

// Helper functions for math simulations

export const getMathSimulationById = (id: string): SimulationMetadata | undefined => {
    return MATH_SIMULATIONS.find(sim => sim.id === id);
};

export const getMathSimulationsByDifficulty = (difficulty: 'easy' | 'medium' | 'hard'): SimulationMetadata[] => {
    return MATH_SIMULATIONS.filter(sim => sim.difficulty === difficulty);
};

// Sample functions for simulations
export const SAMPLE_FUNCTIONS = {
    polynomial: [
        { expression: 'x^2', derivative: '2x', label: 'y = x²' },
        { expression: 'x^3', derivative: '3x^2', label: 'y = x³' },
        { expression: 'x^2 - 4x + 3', derivative: '2x - 4', label: 'y = x² - 4x + 3' },
        { expression: '0.5*x^2 + 2*x - 1', derivative: 'x + 2', label: 'y = 0.5x² + 2x - 1' },
    ],
    trigonometric: [
        { expression: 'sin(x)', derivative: 'cos(x)', label: 'y = sin(x)' },
        { expression: 'cos(x)', derivative: '-sin(x)', label: 'y = cos(x)' },
        { expression: '2*sin(x)', derivative: '2*cos(x)', label: 'y = 2sin(x)' },
    ],
    exponential: [
        { expression: 'exp(x)', derivative: 'exp(x)', label: 'y = eˣ' },
        { expression: '2^x', derivative: '2^x * ln(2)', label: 'y = 2ˣ' },
    ],
};

// Preset matrices for transformations
export const PRESET_MATRICES = {
    identity: { matrix: [[1, 0], [0, 1]] as [[number, number], [number, number]], name: 'Identity', description: 'No change' },
    rotate90: { matrix: [[0, -1], [1, 0]] as [[number, number], [number, number]], name: 'Rotate 90°', description: 'Counterclockwise' },
    rotate180: { matrix: [[-1, 0], [0, -1]] as [[number, number], [number, number]], name: 'Rotate 180°', description: 'Half turn' },
    reflectX: { matrix: [[1, 0], [0, -1]] as [[number, number], [number, number]], name: 'Reflect X', description: 'Over x-axis' },
    reflectY: { matrix: [[-1, 0], [0, 1]] as [[number, number], [number, number]], name: 'Reflect Y', description: 'Over y-axis' },
    scale2x: { matrix: [[2, 0], [0, 2]] as [[number, number], [number, number]], name: 'Scale 2×', description: 'Double size' },
    shearRight: { matrix: [[1, 1], [0, 1]] as [[number, number], [number, number]], name: 'Shear Right', description: 'Horizontal shear' },
};
